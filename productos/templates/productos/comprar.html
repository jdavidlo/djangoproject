{% extends 'productos/layout.html' %}

{% block content %}
<h1 class="center-align red lighten-3">Comprar producto</h1>

<div >
    <div class="card-content">
        <br>
        <h2>Comprar: {{producto.name}}</h2>
        <h2>$ {{producto.cost}}</h2>
        <h2>Disponibles: {{producto.quantity}}</h2>
    </div>
    <div class="card-action">
        <form action="" method="POST"> {% csrf_token %}
            <div class="form-group row">
                <label class="col-sm-2 col-form-label"><h5>Cantidad</h5></label>
                    <div class="col-sm-10">
                        <input type="number" value="1" required name="qty" onchange="cambia()" id="cant" style="width: 38%">
                    </div>
                
                <label class="col-sm-2 col-form-label"><h5>Total</h5></label>
                    <div class="col-sm-10">
                        <input type="number" value="{{producto.cost}}" required name="total" disabled id="tot" style="width: 38%">
                    </div>

                <div class="col-sm-10">
                    <center><button class="btn btn-outline-info" type="submit"><h4>Comprar</h4></button></center>
                </div>
            </div>
        </form>
    </div>
</div>
<br>
<a href="/productos/" class="btn" style="color: white"><h5>Atr√°s</h5></a><br>

<input type="number" value="{{producto.cost}}" hidden id="to">

<script>
    function cambia() {
        qty = parseInt(document.getElementById('cant').value);
        costo = parseInt(document.getElementById('to').value);
        //alert(qty, costo);
        document.getElementById('tot').value = parseInt(qty * costo);
    }
</script>

{% endblock %}